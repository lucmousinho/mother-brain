# Quality Gate Layer 2: Pre-push (local, ~30s)
# Validates tests and security before pushing

echo "ğŸ”¬ Running pre-push checks..."

# Run all tests
echo "  â†’ Running tests..."
pnpm run test || {
  echo "âŒ Tests failed. Fix failing tests before pushing."
  exit 1
}

# Security scan (placeholder - can add npm audit or similar)
echo "  â†’ Security scan..."
# pnpm audit --production || {
#   echo "âš ï¸  Security vulnerabilities found. Review before pushing."
#   # Don't block push, just warn
# }

echo "âœ… Pre-push checks passed!"
